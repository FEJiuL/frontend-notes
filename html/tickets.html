<html>
<head></head>
<body>
	<script type="text/javascript">

		/**
		*@param { n } 人数
		*@param { m } 套餐
		*@param { k } 票价
		*/
		const main = (n, m, k) => {
			const list = [ ]
			return getSetMeal(list, m, n, k);
		}

		/**
		* @param { price } 套餐价格
		* @param { num } 套餐票数
		*/
		const getSetMeal = (list, m, ...rest) => ( price, num ) => {
			list.push([price, num]);
			if( m <= 1 ){
				return core(list, ...rest);
			}else{
				return getSetMeal.apply(null, [list, --m].concat(rest))
			}
		}

		const core = ( list, n, k ) => {
			const min = list.reduce((min, pck) => {
				const [ p, num ] = pck;
				return Math.min(min, getPrice(p, num, n + 1, k));
			}, Infinity);
			
			console.log("最小花费：", min);
		};

		//获取购买花费
		const getPrice = ( p, num, n, k ) => {
			const tn = Math.floor(n / num);	//套餐数
			const rn = n % num;				//单票数
			const total = tn * p + k * rn;
			console.log(`${p}元${num}人套餐花费：`, total);
			return total;
		}

		let fn = main(2, 2, 5);
		fn = fn(6, 2);
		fn = fn(13, 3);
	</script>
</body>
</html>