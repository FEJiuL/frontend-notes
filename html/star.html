<html>
<head></head>
<body>
	<script type="text/javascript">

		const starNum = ( num ) => {
			let matrix = [ ];	//星星矩阵
			return creatStar( matrix, num );
		}

		const creatStar = ( matrix, num ) => (x, y) => {
			//如果数据完毕开始输入问题数
			matrix.push([x, y]);
			if( num <= 1 ){
				return issueNum( matrix );
			}else{
				return creatStar( matrix, --num );
			}
		}

		const issueNum = ( matrix ) => ( num ) => {
			let rectList = [ ];
			return RectCoord( rectList, num, matrix );
		}

		const RectCoord = ( rectList, num, matrix ) => ( ulx, uly, lrx, lry ) => {
			rectList.push([ulx, uly, lrx, lry])
			if( num <= 1 ){
				return getStarNum( rectList, matrix )
			}else{
				return RectCoord( rectList, --num, matrix );
			}
		}

		const getStarNum = ( rectList, matrix ) => {
			rectList.reduce(( list, arr ) => {
				const num = core.apply(null, arr)(matrix);
				console.log("星星个数:", num);
				return list;
			}, [])
		}

		const core = ( ulx, uly, lrx, lry ) => (matrix) => {
			return matrix.reduce((total, coords) => {
				const [x, y] = coords;
				if( x >= ulx && x <= lrx && y >= uly && y <= lry ){
					total += 1;
				}
				return total;
			}, 0)
		}

		const main = () => starNum;

		let = fn = starNum(4);
		fn = fn(1, 1);
		fn = fn(2, 2);
		fn = fn(3, 3);
		fn = fn(1, 3);
		fn = fn(4);
		fn = fn(1, 1, 2, 2);
		fn = fn(1, 1, 3, 3);
		fn = fn(2, 2, 3, 3);
		fn = fn(1, 2, 2, 3);

	</script>
</body>
</html>